apiVersion: policy.open-cluster-management.io/v1
kind: Policy
metadata:
  name: connected-cluster-1-cert-policy
  namespace: oauth-policies
spec:
  complianceType: mustonlyhave
  remediationAction: enforce
  disabled: false
  policy-templates:
  - objectDefinition:
      apiVersion: policy.open-cluster-management.io/v1
      kind: ConfigurationPolicy
      metadata:
        name: policy-auth-provider
      spec:
        object-templates:
        - complianceType: mustonlyhave
          objectDefinition:
            apiVersion: config.openshift.io/v1
            kind: APIServer
            metadata:
              name: cluster
            spec:
              servingCerts:
                namedCertificates:
                - names:
                  - api.cluster1.openshifthappens.com
                  servingCertificate:
                    name: custom-cert
        - complianceType: mustonlyhave
          objectDefinition:
            apiVersion: v1
            data:
              tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdMRENDQkJTZ0F3SUJBZ0lKQU1MTnVialdwVlF3TUEwR0NTcUdTSWIzRFFFQkN3VUFNSUdDTVFzd0NRWUQKVlFRR0V3SlZVekVMTUFrR0ExVUVDQXdDVGtveEVUQVBCZ05WQkFjTUNGTnZiV1ZEYVhSNU1SSXdFQVlEVlFRSwpEQWxOZVVOdmJYQmhibmt4RXpBUkJnTlZCQXNNQ2sxNVJHbDJhWE5wYjI0eEtqQW9CZ05WQkFNTUlXRndhUzVqCmJIVnpkR1Z5TVM1dmNHVnVjMmhwWm5Sb1lYQndaVzV6TG1OdmJUQWVGdzB5TURFd01ESXlNRFEyTVRGYUZ3MHkKTVRFd01ESXlNRFEyTVRGYU1JR0NNUXN3Q1FZRFZRUUdFd0pWVXpFTE1Ba0dBMVVFQ0F3Q1Rrb3hFVEFQQmdOVgpCQWNNQ0ZOdmJXVkRhWFI1TVJJd0VBWURWUVFLREFsTmVVTnZiWEJoYm5reEV6QVJCZ05WQkFzTUNrMTVSR2wyCmFYTnBiMjR4S2pBb0JnTlZCQU1NSVdGd2FTNWpiSFZ6ZEdWeU1TNXZjR1Z1YzJocFpuUm9ZWEJ3Wlc1ekxtTnYKYlRDQ0FpSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBS2ZvY0xjSGNTMlpIQi9VQmltegpiLzhZbmJ3YmRKL0lnTUdhdG5iVmtXd1A4Ui9NaDNWLzJTSG9ha2M0WmRWa3l5RXNnU2RmSzVrN2szRytKMU05CnpNQm84K0hWaEV2ODZ1elFvN2NqY0xKeG9TY1B0b3prY1lDdlg1WjVDODJCRE5iY25PTFlJVmlBakJpRWhGYmYKa3RuOFJrVDBBaHdLckg2MDVNU0U5RzNkVytZenV1R3F2MlVsY3VhY0UyUEhBRHlWMU82TmdPcVdsdWd5QWFGNgpPcXlSaG9lTkwvbWNMNzE0SXVFL3FzUDJHNUxFREwrNmorWnV2STRyY1BXZlljM0EveWF2VFpOYWo2dDlWRnh2CkdkZEVYY2UwKysxYjBBczQ1dE9mSDZHNVVhR0NjTXZ6Y2xiUjhKbml6bFR1dXBlaUkvTklPMVBweDNLL3RkdnYKNVZvUlFyakh6cnNCQkgrTDF6eEVJNW5XQm82VUxCZml6dkkxMTRSb0dGb3N1Q2prb3g4WWpFVjBuQ2N6RnFEMApTMGdnQlZUV2JIQlFYeFJtWVZ0Nm1UaXV6VlJmdDNoRFAwbThCWVpkbk1PRXV0ZVJBT3VxVlUvS3VUcCt6OFU2ClpUaUJaQzdpZE4rcXR0cmdCSUw4UllzdHZoa0JXOGRVdG10bmNuUHp6eVdpd0lxaXpWMWxwTnMrS2Jqejc2TlQKbHhGZ3E4YTNYMTdybnlwNlNBaFVFYmJwL1h4Rkdnek40a0lqMmM0YjIrdThKRld3SDViNll1OXRvKzdLdk0wTApPRStoYStxZWF6VEwwM1BQbVkxQ3kzc3llVWlWYmw4R0duamhxTWh6UDMySGxjazc5V2RvVWFKV2p4ZjFPaTJFCncvemF4VEhvUTh4ZEY0cDZDQkp5UTMyZkFnTUJBQUdqZ2FJd2daOHdDd1lEVlIwUEJBUURBZ1F3TUJNR0ExVWQKSlFRTU1Bb0dDQ3NHQVFVRkJ3TUJNSHNHQTFVZEVRUjBNSEtDUEdOdmJuTnZiR1V0YjNCbGJuTm9hV1owTFdOdgpibk52YkdVdVlYQndjeTVqYkhWemRHVnlNUzV2Y0dWdWMyaHBablJvWVhCd1pXNXpMbU52YllJeWIyRjFkR2d0CmIzQmxibk5vYVdaMExtRndjSE11WTJ4MWMzUmxjakV1YjNCbGJuTm9hV1owYUdGd2NHVnVjeTVqYjIwd0RRWUoKS29aSWh2Y05BUUVMQlFBRGdnSUJBRWZDZVh0b1YvS0dhTkdpbXRoVXV4dm5vdWJVckl0MHRxNGZRYy90b0NzbgplS2tFQ0lwVnVETnBOMWpCVDNnMTIzSitPQlVoMmFnZGoxSUdIT00yeFY5OW5aYVhJc1p1WW50VDMxVmJsNHM1CmtIM3RiZncyaitobEJtSndCTWpRMFJvbHdyOEx1UXpCTENPRkRiZzhRaHR4bHFMd2R0VnZzWVdHc3JEbUxZUkoKS3p5VUE5OUg1OHJmTDRNVGJNT3kxZnRqS2ZHbXF1WitIMGNkdTYwMnBTWmcvRU5ESnhLbmFVbkZ3MXJwTXYwZgphL0xZWUYvMThaQjcxRlJjaEoxVUZKZForTDc3OUFlcjl4czgxRVQ0R3ZGcWZacFJrZVhiMVZjcU1TQ1JsM292Cm1BTU1jM2t2bTlITUdEKy9JRS9UeCtzc2V5OEtJcXlpU09JYXA1M1FiT1lxaDRoVU5XSHkwNmducUc3QWhyelUKRzFYWGs4Q0F5b1M3ejFzTnF2MGRlNEU3U0VrYkN3MUlpaGI5WHZHR21YaElPQ1dCNXdtMkdPSzdyMTJLUGF3NwpqNXF4NExHVWRNQUJlcW9qZ0ZpaFE2TFZta1FPaFlIRmtHdkpSV2x0TVRBRlUyWE5JSTZTWUhNTnQvMTVmWkdUCnViekVJY2RjSGhoanAvazc2S201SGtwbkdRMEg4dUZDTVEzUnVHaWpQejF0V3lFQ2UvZ0R0NktTZGV3ZlZadFAKYnE4ekNPZU4yTksrdGpiTmRBbE9NRzNYMVFFRisvSWk3RjA3REhvcmxMbXN3QTN0U0ZDUkNyRFdXSFlUV0lRUQozUmxMekhhV085dmFZUmUxb1Z4aDk1YlJ3VGRvY1locnUweGNKa2NaWEpGWjgyT0VIT1d5K1pQVTcwTVRHLzM2Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
              tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBcCtod3R3ZHhMWmtjSDlRR0tiTnYveGlkdkJ0MG44aUF3WnEyZHRXUmJBL3hIOHlICmRYL1pJZWhxUnpobDFXVExJU3lCSjE4cm1UdVRjYjRuVXozTXdHano0ZFdFUy96cTdOQ2p0eU53c25HaEp3KzIKak9SeGdLOWZsbmtMellFTTF0eWM0dGdoV0lDTUdJU0VWdCtTMmZ4R1JQUUNIQXFzZnJUa3hJVDBiZDFiNWpPNgo0YXEvWlNWeTVwd1RZOGNBUEpYVTdvMkE2cGFXNkRJQm9YbzZySkdHaDQwditad3Z2WGdpNFQrcXcvWWJrc1FNCnY3cVA1bTY4aml0dzlaOWh6Y0QvSnE5TmsxcVBxMzFVWEc4WjEwUmR4N1Q3N1Z2UUN6am0wNThmb2JsUm9ZSncKeS9OeVZ0SHdtZUxPVk82Nmw2SWo4MGc3VStuSGNyKzEyKy9sV2hGQ3VNZk91d0VFZjR2WFBFUWptZFlHanBRcwpGK0xPOGpYWGhHZ1lXaXk0S09Takh4aU1SWFNjSnpNV29QUkxTQ0FGVk5ac2NGQmZGR1poVzNxWk9LN05WRiszCmVFTS9TYndGaGwyY3c0UzYxNUVBNjZwVlQ4cTVPbjdQeFRwbE9JRmtMdUowMzZxMjJ1QUVndnhGaXkyK0dRRmIKeDFTMmEyZHljL1BQSmFMQWlxTE5YV1drMno0cHVQUHZvMU9YRVdDcnhyZGZYdXVmS25wSUNGUVJ0dW45ZkVVYQpETTNpUWlQWnpodmI2N3drVmJBZmx2cGk3MjJqN3NxOHpRczRUNkZyNnA1ck5NdlRjOCtaalVMTGV6SjVTSlZ1Clh3WWFlT0dveUhNL2ZZZVZ5VHYxWjJoUm9sYVBGL1U2TFlURC9OckZNZWhEekYwWGlub0lFbkpEZlo4Q0F3RUEKQVFLQ0FnQjVDN3JtVi9raGxEV1FSSHZFNkZVZkpCSGlvREJ0V0ZCcVFpeTBjcmFKbnR5SHZoMFJlZitBMEZwOQp5WXl3VUIrWVpNc2ZKUjc3TXRYU3MvRUpzNDIrVUdzeExZcFlkWmF1N3FKM3pwYmFMY3l0cWtoQ1BoWU5YV0NkCnk5blVadXBvbzFaK3VxMGZibHlRK0VlbmtUbis2RDJJVEJpUk9xaXNGNkNzZytUcXB5QXZUcSsxTERFYXErcXYKa1dqeEQyOStQYzNweEIxaUFQbjlucjlLT0NIQWNwRDNlN05RVVdhaFF0Qnlia0dmVC9jRTBVMFhrMWxXR0JMYQpzenFWK0RhNzdCeUZPTy9HQVExOTViWkJoTjZ1TDkwanNiZkVuK0hWbFVuaTJkNGw2c0dNbThyUlhVbmFpVExZCjNZYzk5M1NSQ0JTK3VCMzlHcFhzaFlTSGIrUjQ1SkNZMVNBU2dhYjlwNmJ3em1acWYvVk5rUTNUOHJQaStQOFkKSFhxQUNsNi9rZ08xVU1XdzdNazNZVjhRK2Z6VWxDOHBjTElRS25kTlJMOUgzbXYyb2tIcndGVExqL2YvN3J3SApoblE0RE53bzBCTTlXUExrUnI1QzhoWmhvRzJHcWRiNW11UVRocUtPOVpxTnRlR1dES2FlSXJpb21PNXNqQ2xnCklxQkJWTlVPRmFlVUxUMFErN1k1NDlqdkpKcXhpZHZBclhCSy9iTnJIRXJ6TW5RRTBNcml0K1VnSHpKWHZRR0YKb1JOTUVtTmJDZXdpK0duS3ZHZ1ZieDZNdkVnZytqa3dIcWtFS0NhNkxmMzBxS3k3QkpVd3huM3RDUUtYRXVmSApKaVNRZ2Y0Y21uMjRsRjJtVksrSTNKQlFSNHNIN1k3cUtYbkhtNDVYT1JjUkdJeDlJUUtDQVFFQTJrd0Z5SXZOClZ2aFgrb290clN0SGV3QVlyTmV6ZkpPNG4wNE5LcXNheXB2VDU4UDlZSXRvUHZPY1V4L0FOcFlaZVhHYXU1L0IKWjV6M3IvUUJUZHhPbE9wMGxqazcrb1A1MDh1aXp2WXExSlU5ajExU0ppU0dUN3F1SUlFanpaSUM0dm85OTFINApJS1hWYzgyazlGVWc0eWtwRzl6b3dFMXo4M3U0SjArTUdWbmpnTXZwazE0K3Y1SGhKMk5tWXJqc1JzSzNtVVFzCkY5QStHY2RoN05EbEt4R3M0REVWNVFXRG9KeVYvdGsvZnVCYUxmQ0J0MG92ODdXNWg0aXlOSTNWd2E2TU5Ua0YKdkJNVjhGUms4eFNRR1BLT2FpQXo3YXd0dWRBQWNmdy80K1dvMzR6bitZSW5FQS9hMG9LWFlnZVJlNER4MHFNWApua3FqeUYwWW8xRWdod0tDQVFFQXhPaDVQN0ZXTUFiWkpmZ2FwTmh2UnZlYkVuOE5OckRXN0pUaHdMRFVQcmFOClczQXlzcFJZVmZrbGUwOFJFV0ZtTEdjK1dSMUlqVWFycHFnUUxwcFJQdGtPVHZxaC9yMWZKcElzK1g0OHN0cmYKUTRRcU96UHBpYmdBZGxDRWlsYW5zOFo2K0c5WWZRcEMyeS9ROHRKaTlCYkNSQkNiazlHOWxLNUpqbWFodS84UgpuNGdCRmpTaHRyTTFVaThXN1hSOEFwZmR1amVoMmZZZ2VMTjB4Z2wxSTk1U0l4a3dSMFZUZFY4MkNrMEtTMkRZCkhuL3hjWFBwbSt2aEJWTXZrMnNWa05YYnVzZm01elN3S2VSc2ZtUnd2bms2V1lWYU5ZMDE5aDljbHcxQ09HdkoKSkhIWUh4MWN6NkM2THBsTnVXMUNQakFWbWd0S3VJRWkzUkZ0UkVwNEtRS0NBUUFnN0M1REhMS1BWMDBOZ0NGNwphSGVUV1dSZlRQakk1UTZIR0NKc09Qb0ZiSkw4OVZZVlpYRUhiWDQ2R3lQR0Y4VW54N1pxYmFHaG1zN1FQcUNqCnVZSXdlMXV4L0ZmTFpIUWRPUzBJd1orY0NCWU10U3BhamsralhxZzhScjI3bHpYUVBhVnkwMjMwbm80ZXRQa1gKMEc3eFU1ZmJsK21TZHh2eHNNc0pRcm9DYU1naStKMzFsOVVtMXoxNXowZjF3NlgrMWdjU21uRjc5ZkFudXlaTgpyUU9qQnp0blpIL0UxcHdQY1E0K0xVMmlPUHZneWRFR2I2M2p0NWlQbEZJc0V1Z1dHZGtUZmRJYmwxVkx0YTZ6CjZub0JDVFBwVlluL1ltUlREY2ZEYVNQSm55MWs2YjlpcGZwMk5hM3U2YnNqRWJralEwTTFYVnVHaUFORGlLYmEKbXJXcEFvSUJBUUNQeUMxWlMvWGlaZTNFWXZHWnM0MDE1Zkh2UktUeWJaalM4amdTaTB6QWFtNjMrU3FiNmVURApDb1hMRDhZbnlkWmcwQmJmM1prdnlBM3BTTWxnTGtEclFuWEhTQTVvUkFHcDJZMUx0VmsvUk1GSXZNWlZxcWQ2CmI4aXVuRWJiK1VERjdrVzNDUjgxVnZ2UXI0N0U4TWxlOFF0enhpakVmS0FSWkY3RHc3K1Axa1laRnFlc2Zrd2oKYTZLZzIwL0RubzQ3R29mR3hYN0MrSTFuZGFyc1BOV3psbENsM211NWJ5N3RBdFFrRzNOTDdYQ0NmT3hoNnNFSApvT3NVQjFVek1UdHpJaVlyc25LeUczQVRkditlSDF1UVNsZElMUzdjOGJzWWVIZ1V1SkxGUGplSEREWkRLaDZ1ClllL3h2UEhiVjZQS1l6UXk0dEh4L2lIbUNTYWZlajFaQW9JQkFRQ3B3SlF0Rk10aCtnQnZUTHY3OWZ5a3VoZ0EKMEFwMCt6SUxRZFdheW9JWXhGNGNFVXBYYkZwQ1lEcnpnN3hJeXoxMVhIbElKSDZ0MGErL3Y3WVhKNGtEY0FaWgp4aFdUMnRydUZkdjBOYVpQdHNYZFhKSi9lMUNLUXpQOFBpbUhRU2N0Wjl5d2RaWTFrdVFOZm05NHBSOE1kVUViClJwK21ONzhIWmhhNlpMSjgyOVJtMHc0RHp6Qy9GYnpUZmJ4WFR4cFRNV2taWHp1SThSTXRsOUs4OG1ZRFVUdkcKTVpmemJFRkJTbk0vM0tjZlBXMmFCMEplSkxRTDVhcGlJdXdjSXVSNUNJS1VXQ3FjakNhRnpRY2VqT0dYZlVodApOQ0NvVHVaTFV0OXA2V0VwcFdMR2VWaGlWU3RyZkRTMGM3ZjZ4Y2lKeklWYW9ybWtObzdoaFhEd0Z2YUIKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
            kind: Secret
            metadata:
              name: custom-cert
              namespace: openshift-config
